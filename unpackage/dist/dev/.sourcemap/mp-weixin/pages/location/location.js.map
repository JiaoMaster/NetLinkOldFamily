{"version":3,"sources":["uni-app:///main.js",null,"webpack:///D:/Data/html/NetLinkOldFamily/pages/location/location.vue?5947","webpack:///D:/Data/html/NetLinkOldFamily/pages/location/location.vue?c5f2","webpack:///D:/Data/html/NetLinkOldFamily/pages/location/location.vue?aa58","uni-app:///pages/location/location.vue","webpack:///D:/Data/html/NetLinkOldFamily/pages/location/location.vue?9369","webpack:///D:/Data/html/NetLinkOldFamily/pages/location/location.vue?4836"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;;;AAGA;AACA,sG,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,iBAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqH;AACrH;AAC4D;AACL;AACa;;;AAGpE;AAC8K;AAC9K,gBAAgB,qLAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA4pB,CAAgB,0pBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2BhrB,2G;;;;;;;;;;;;;;;;;;;;;;;;;;eACA,EACA,IADA,kBACA,CACA,SACA,mBADA,EAEA,qBAFA,EAGA,SAHA,EAIA,+BAJA,EAKA,WALA,EAMA,SANA,EAOA,WACA,WADA,EAEA,YAFA,EAGA,iCAHA,GAPA,EAYA,QAZA,EAaA,MAbA,EAcA,cAdA,EAeA,MAfA,EAgBA,kCAhBA,GAkBA,CApBA,EAqBA,OArBA,qBAqBA,CAEA,CAvBA,EAwBA,MAxBA,oBAwBA,kBACA;AACA,kBADA;AAEA,aAFA,mBAEA,GAFA,EAEA;AACA;AACA;AACA;AACA,4BADA;AAEA,yBAFA;AAGA,0BAHA;;AAKA;AACA,OAXA;AAYA,UAZA,kBAYA;AACA;AACA,0BADA;AAEA,uBAFA;AAGA,wBAHA;;AAKA,OAlBA;;AAoBA;AACA;AACA;AACA;AACA;AACA;AACA,KAHA,EAGA,QAHA,EAxBA,CA2BA;AACA;AACA;AACA;AACA;AACA,KAHA;AAIA,GAzDA;AA0DA,SA1DA,qBA0DA;;AAEA,GA5DA;AA6DA;AACA,SADA,iBACA,OADA,EACA,OADA,EACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAPA,EA7DA;;AAsEA;AACA,UADA,oBACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAPA;AAQA,WARA,qBAQA;AACA,KATA;AAUA,SAVA,iBAUA,CAVA,EAUA;AACA;AACA;AACA;AACA,oBADA;AAEA,eAFA,mBAEA,GAFA,EAEA;AACA;AACA;AACA,kEADA;AAEA,0BAFA;AAGA;AACA,qDADA,EAHA;;AAMA,mBANA,mBAMA,GANA,EAMA;AACA;AACA;AACA,4EADA;AAEA,8BAFA;AAGA;AACA,yDADA,EAHA;;AAMA;AACA,sCADA,EANA;;AASA,uBATA,mBASA,GATA,EASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BADA;AAEA,uCAFA;AAGA,wCAHA;AAIA,6BAJA;AAKA,8BALA;AAMA,qDANA;;AAQA;AACA;AACA,qCADA;AAEA;AACA;AACA,qBAJA;;AAMA,iBA9BA;;AAgCA,aAxCA;;;AA2CA,SA/CA;;AAiDA,KA9DA,EAtEA,E;;;;;;;;;;;;;AC5BA;AAAA;AAAA;AAAA;AAAq8B,CAAgB,+5BAAG,EAAC,C;;;;;;;;;;;ACAz9B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/location/location.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/location/location.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./location.vue?vue&type=template&id=1dc6e226&\"\nvar renderjs\nimport script from \"./location.vue?vue&type=script&lang=js&\"\nexport * from \"./location.vue?vue&type=script&lang=js&\"\nimport style0 from \"./location.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/location/location.vue\"\nexport default component.exports","export * from \"-!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./location.vue?vue&type=template&id=1dc6e226&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./location.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./location.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view style=\"background-color: #f4f4f4;\">\r\n\t\t<view class=\"page\">\r\n\t\t\t\r\n\t\t\t<view>\r\n\t\t\t<view v-show=\"isOld\" style=\"text-align:justify;\">\r\n\t\t\t\t<text class=\"text_size\" style=\"margin-bottom: 8px;\">实时位置</text>\r\n\t\t\t\t<text class=\"text_size\">{{'老人ID：'+oldid}}</text>\r\n\t\t\t\t<text class=\"text_size\">{{'老人位置：'+location}}</text>\r\n\t\t\t</view>\r\n\t\t\t <view v-show=\"!isOld\">\r\n\t\t\t\t<text class=\"text_size\">{{'请先绑定'}}</text>\r\n\t\t\t </view>\t \r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view>\r\n\t\t\t<button @click=\"change\">切换老人</button>\r\n\t\t</view>\r\n\t\t<view class=\"content\">\r\n\t\t  <map id=\"map\" class=\"map\" :show-location=\"true\" :latitude=\"xy.x\" :longitude=\"xy.y\"  ></map>\r\n\t\t</view>\r\n\t\t\r\n\t</view>\r\n \r\n</template>\r\n\r\n<script>\r\n\timport QQMapWX from '../../common/qqmap-wx-jssdk.js'\r\n  export default {\r\n    data() {\r\n      return {\r\n        latitude: 37.867666,\r\n        longitude: 112.595583,\r\n\t\toldid: '',\r\n\t\tlocation:'中国山西太原杏花岭区大东关街道山西大学',\r\n\t\tisOld:true,\r\n\t\tsec:2000,\r\n\t\tcovers: [{\r\n\t\t\t\t\t\tlatitude: 0,\r\n\t\t\t\t\t\tlongitude: 0,\r\n\t\t\t\t\t\ticonPath: '../../static/loco.png'\r\n\t\t\t\t\t}],\r\n\t\toids:{}\t,\r\n\t\txy:{},\r\n\t\tmapContext:{},\r\n\t\tnow:0,\r\n\t\tNowLocation:'中国山西太原杏花岭区大东关街道山西大学'\r\n      }\r\n    },\r\n    onReady() {\r\n      \r\n    },\r\n\tonShow() {\r\n\t\tuni.getStorage({\r\n\t\t\tkey:\"token\",\r\n\t\t\tsuccess(res) {\r\n\t\t\t\tif(res.data == \"\")\r\n\t\t\t\t{\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '未登录，请登录',\r\n\t\t\t\t\t\ticon:'error',\r\n\t\t\t\t\t\tduration: 1000\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfail() {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '未登录，请登录',\r\n\t\t\t\t\ticon:'error',\r\n\t\t\t\t\tduration: 1000\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t})\r\n\t\tthis.getlo(0)\r\n\t\tthis.sec = 2000\r\n\t\t//在mounted 声明周期中创建定时器\r\n\t\tconst timer = setInterval(()=>{\r\n\t\t\t// 这里调用调用需要执行的方法，1为自定义的参数，由于特殊的需求它将用来区分，定时器调用和手工调用，然后执行不同的业务逻辑\r\n\t\t\tthis.getlo(this.now)\r\n\t\t}, this.sec) // 每两秒执行1次\r\n\t\t// 通过$once来监听定时器，在beforeDestroy钩子可以被清除\r\n\t\tthis.$once('hook:beforeDestroy',()=>{\r\n\t\t\t// 在页面销毁时，销毁定时器\r\n\t\t\tclearInterval(timer)\r\n\t\t})\r\n\t},\r\n\tmounted(){\r\n\t\r\n\t},\r\n\twatch:{\r\n\t\toldid(newName, oldName){\r\n\t\t\tif(newName != ''){\r\n\t\t\t\tthis.isOld = true\r\n\t\t\t}else{\r\n\t\t\t\tthis.isOld = false\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n    methods: {\r\n\t\tchange(){\r\n\t\t\tif(this.now == 0){\r\n\t\t\t\tthis.now = 1\r\n\t\t\t}else{\r\n\t\t\t\tthis.now = 0\r\n\t\t\t}\r\n\t\t},\r\n\t\tchange1(){\r\n\t\t},\r\n\t\tgetlo(e){\r\n\t\t\tlet that = this\r\n\t\t\tthis.mapContext = uni.createMapContext(\"map\", this);\r\n\t\t\tuni.getStorage({\r\n\t\t\t\tkey: 'token',\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\tthat.token = res.data\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl:'https://link.netlinkold.cn/api/user/getOldByUid',\r\n\t\t\t\t\t\tmethod:'post',\r\n\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t'Authorization': 'Bearer ' + that.token,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\tthat.oids = res.data.oldId.split('+')\r\n\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\turl: \"https://link.netlinkold.cn/api/user/get_user_location\",\r\n\t\t\t\t\t\t\t\tmethod:'POST',\r\n\t\t\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t\t'Authorization': 'Bearer ' + that.token,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\t\t\tuserId:that.oids[e]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t\tif(that.xy == res.data.location){\r\n\t\t\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tthat.xy = res.data.location\r\n\t\t\t\t\t\t\t\t\tthat.location = that.xy.location\r\n\t\t\t\t\t\t\t\t\tlet marker = {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid:123,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlatitude:that.xy.x,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlongitude:that.xy.y,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth:20,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\theight:20,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticonPath:'../../static/loco.png'\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tthat.oldid = that.xy.userId\t\t\t\r\n\t\t\t\t\t\t\t\t\tthat.mapContext.addMarkers({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmarkers:[marker],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfail:()=>{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"失败了\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\t\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n\t.text_size{\r\n\t\tfont-size: 15px;\r\n\t\tdisplay:flex;/*实现垂直居中*/\r\n\t\tjustify-content:center;\r\n\t}\r\n\t.page {\r\n\t\theight: 100px;\r\n\t\t\tmargin-top: 5px;\r\n\t\t\tmargin-left: 2px;\r\n\t\t\tmargin-right: 2px;\r\n\t\tbackground: linear-gradient(15deg, #0F65DB, #0A8FEC, #0AC4EC);\r\n\t\tcolor: #FFFFFF;\r\n\t\t\tborder-radius: 40rpx 40rpx 40rpx 40rpx;\r\n\t}\r\n  .content {\r\n\t\r\n\theight: 500px;\r\n\twidth: 100%;\r\n    flex: 1;\r\n  }\r\n\r\n  .map {\r\n\t  height: 500px;\r\n\t  width: 100%;\r\n    flex: 1;\r\n  }\r\n</style>","import mod from \"-!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./location.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./location.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1664702893732\n      var cssReload = require(\"D:/Program/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}